
obj-m := btp.o

btp-objs :=     bt_bit.o bt_delay.o bt_diag.o bt_event.o bt_icbr_thread.o \
        bt_isr.o bt_llist.o bt_mem.o bt_mutex.o bt_nbus.o bt_param.o \
        bt_rwlck.o bt_setup.o bt_xfer.o btp_bind.o btp_cfg.o btp_ioctl.o \
         btp_lowio.o btp_mmap.o btp_open.o btp_rdwr.o btp_version.o

EXTRA_CFLAGS += -g -DDEBUG  -DBT1003 -I$(BTDRIVER)/dd -I$(BTDRIVER)/include \
        -fno-strength-reduce -Wall -Wstrict-prototypes -fno-common 



install-data-local:
install-data-local:
	echo SBS/Bit3 PCI to VME bus bridge device driver
	echo Copyright "(c)" 1999-2000 by SBS Technologies, Inc.
	echo           All Rights Reserved.
	echo  Redistributed by the NSCL Data acquisition system by
	echo  kind permission of SBS/Bit3.  Use of this device driver
	echo is governed by the terms and conditions of SBS Technologies
	echo license.
	install -m 0744 btp.ko \
	         /lib/modules
	install -m 0755 mkbtp /lib/modules
	/lib/modules/mkbtp 1       # Make first unit for him.

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD Docbook XML 4.3//EN"
                      "file:///usr/share/xml/docbook/schema/dtd/4.3/docbookx.dtd" >
<book>
<article>

<refentry>
    <refmeta>
        <refentrytitle>CCAENV977ScalerTrigger   nscl</refentrytitle>
        <manvolnum>3nscl</manvolnum>
    </refmeta>
    <refnamediv>
        <refname>CCAENV977ScalerTrigger</refname>
        <refpurpose>
            Provides scaler readout triggers via a CAEN V977.
        </refpurpose>
    </refnamediv>
    <refsynopsisdiv>
        <para>
            #include &lt;<filename>CCAENV977ScalerTrigger.h</filename>&gt;
        </para>
        <programlisting>
class CCAENV977ScalerTrigger : public CScalerTrigger
{
public:
  CCAENV977ScalerTrigger(unsigned long base, unsigned int vmeCrate = 0);
  ~CCAENV977ScalerTrigger();

  virtual void Initialize();
  virtual bool operator()();

};

        </programlisting>
    </refsynopsisdiv>

    <refsect1>
        <title>DESCRIPTION</title>
        <para>
            <classname>CCAENV977ScalerTrigger</classname> provides a scaler trigger via
            the  CAEN V977 Coincidence register module.   This module can be used
            both to provide event triggers and to provide scaler triggers.
            See ELECTRONICS SETUP below for the electronics definition of a scaler trigger.
        </para>
    </refsect1>
    <refsect1>
        <title>METHODS</title>
        <para>
            <function>CCAENV977ScalerTrigger</function>(
                    <classname>unsigned long</classname> <parameter>base</parameter>,
                    <classname>unsigned int</classname>  <parameter>vmeCrate</parameter>
                    )
        </para>
        <para>
            Constructs a scaler trigger for the CAEN V977 module.  The parameters
            define the location of the module in VME space.  <parameter>base</parameter>
            is the base address of the module configured into its rotary switches.
            <parameter>vmeCrate</parameter> is the number of the VME crate into which
            the module was stuffed.  For single crate systms, the default of 0 is correct.
        </para>
        <para>
            <returnvalue>void</returnvalue> <function>Initialize</function>()
        </para>
        <para>
            Called to initialize the module when the run becomes active.
        </para>
        <para>
            <returnvalue>bool</returnvalue> <function>operator()</function>()
        </para>
        <para>
            Called to determine if a trigger has occured.  Returns true if so.
        </para>
    </refsect1>
    <refsect1>
        <title>ELECTRONICS SETUP</title>
        <para>
            The CAEN V977 module latches bits when it receives a gate.
            The trigger condition is defined as bit 15 set.
            You must
            therefore determine a scaler trigger condition, cable that into
            bit 15 of the module and fan a duplicate of this signal int othe
            CAEN V977 gate.  Naturally the electronics is slightly more complex
            if you are using the same module concurrently for event and scaler triggers.
        </para>
    </refsect1>
    <refsect1>
        <title>SEE ALSO</title>
         <para>
            CScalerTrigger(3nscl),
            CCAENTimedScalerTrigger(3nscl),
            CCAENV262ScalerTrigger(3nscl),
            CCAENCBDCES8210ScalerTrigger(3nscl)
        </para>
        <para>
            <ulink url="http://docs.nscl.msu.edu/daq/appnotes/ScalerTriggerAppnote.pdf" />
            contains complete documentation that describes scaler triggers, how to
            establish them and how to write application specific ones.
        </para>
    </refsect1>
</refentry>



</article>
</book>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CThreadRecursiveMutex class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.15 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>CThreadRecursiveMutex  Class Reference</h1>CThreadRecursiveMutex <a class="el" href="CThreadRecursiveMutex_8h.html">CThreadRecursiveMutex.h</a>. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a>&gt;</code>
<p>
<p>Inheritance diagram for CThreadRecursiveMutex:
<p><center><img src="classCThreadRecursiveMutex.png" usemap="#CThreadRecursiveMutex_map" border="0"></center>
<map name="CThreadRecursiveMutex_map">
<area href="classCApplicationSerializer.html" alt="CApplicationSerializer" shape="rect" coords="0,56,152,80">
</map>
<a href="classCThreadRecursiveMutex-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#a0">CThreadRecursiveMutex</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Default Constructor.</em> <a href="#a0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#a1">~CThreadRecursiveMutex</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Destructor.</em> <a href="#a1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>DAQThreadMutex&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#a2">getMutex</a> () const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>&lt; Retrieve m_Mutex.</em> <a href="#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>daqthread_t&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#a3">getOwningThread</a> () const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>&lt; Retrieve m_tOwningThread.</em> <a href="#a3">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>unsigned&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#a4">getLockLevel</a> () const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>&lt; Retrieve m_LockLevel.</em> <a href="#a4">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>DAQThreadMutex&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#a5">getMonitorMutex</a> () const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>&lt; Return m_MonitoMutex.</em> <a href="#a5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#a6">Lock</a> ()</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#a7">UnLock</a> ()</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#a8">TryLock</a> ()</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#a9">isLocked</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#a10">UnLockCompletely</a> ()</td></tr>
<tr><td colspan=2><br><h2>Protected Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#b0">setMutex</a> (const DAQThreadMutex am_Mutex)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#b1">setOwningThread</a> (const daqthread_t am_tOwningThread)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#b2">setLockLevel</a> (const unsigned am_nLockLevel)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#b3">setMonitorMutex</a> (const DAQThreadMutex am_MonitorMutex)</td></tr>
<tr><td colspan=2><br><h2>Private Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#c0">CThreadRecursiveMutex</a> (const CThreadRecursiveMutex &amp;rRhs)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#c1">operator==</a> (const CThreadRecursiveMutex &amp;aCThreadRecursiveMutex) const</td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>DAQThreadMutex&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#o0">m_Mutex</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Mutex locked.</em> <a href="#o0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>daqthread_t&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#o1">m_tOwningThread</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Id of owning thread.</em> <a href="#o1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>unsigned&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#o2">m_nLockLevel</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Locking depth for owning thread.</em> <a href="#o2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>DAQThreadMutex&nbsp;</td><td valign=bottom><a class="el" href="classCThreadRecursiveMutex.html#o3">m_MonitorMutex</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Atomicity Mutex.</em> <a href="#o3">More...</a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
CThreadRecursiveMutex <a class="el" href="CThreadRecursiveMutex_8h.html">CThreadRecursiveMutex.h</a>.
<p>
Provides a mutex which can be locked in a nested manner by a thread. The "nested ness' is managed through the m_nLockLevel and the  m_OwningThread member. Atomicity of the otherwise non-atomic  function is handled by bracketing calls with locks of the mutexe's own m_MonitorMutex Gaurentees:<ul>
<li>No process will be starved.<li>Processes blocked waiting for the mutex will be served in the order in which they entered the blocking queue. </ul>

<p>

<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00313">313</a> of file <a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="CThreadRecursiveMutex::CThreadRecursiveMutex"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CThreadRecursiveMutex::CThreadRecursiveMutex </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Default Constructor.
<p>

<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00304">304</a> of file <a class="el" href="CThreadRecursiveMutex_8cpp-source.html">CThreadRecursiveMutex.cpp</a>.    </td>
  </tr>
</table>
<a name="a1" doxytag="CThreadRecursiveMutex::~CThreadRecursiveMutex"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CThreadRecursiveMutex::~CThreadRecursiveMutex </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor.
<p>

<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00315">315</a> of file <a class="el" href="CThreadRecursiveMutex_8cpp-source.html">CThreadRecursiveMutex.cpp</a>.
<p>
References <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00321">m_MonitorMutex</a>, <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00318">m_Mutex</a>, and <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00320">m_nLockLevel</a>.    </td>
  </tr>
</table>
<a name="c0" doxytag="CThreadRecursiveMutex::CThreadRecursiveMutex"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CThreadRecursiveMutex::CThreadRecursiveMutex </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const CThreadRecursiveMutex &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>rRhs</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Copy construction is illegal and hence private and not implemented.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a4" doxytag="CThreadRecursiveMutex::getLockLevel"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned CThreadRecursiveMutex::getLockLevel </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
&lt; Retrieve m_LockLevel.
<p>

<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00352">352</a> of file <a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a>.
<p>
References <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00320">m_nLockLevel</a>.
<p>
Referenced by <a class="el" href="CEvent_8cpp-source.html#l00479">CEvent::Disable</a>().    </td>
  </tr>
</table>
<a name="a5" doxytag="CThreadRecursiveMutex::getMonitorMutex"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DAQThreadMutex CThreadRecursiveMutex::getMonitorMutex </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
&lt; Return m_MonitoMutex.
<p>

<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00356">356</a> of file <a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a>.
<p>
References <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00321">m_MonitorMutex</a>.    </td>
  </tr>
</table>
<a name="a2" doxytag="CThreadRecursiveMutex::getMutex"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DAQThreadMutex CThreadRecursiveMutex::getMutex </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
&lt; Retrieve m_Mutex.
<p>

<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00344">344</a> of file <a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a>.
<p>
References <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00318">m_Mutex</a>.    </td>
  </tr>
</table>
<a name="a3" doxytag="CThreadRecursiveMutex::getOwningThread"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> daqthread_t CThreadRecursiveMutex::getOwningThread </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
&lt; Retrieve m_tOwningThread.
<p>

<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00348">348</a> of file <a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a>.
<p>
References <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00319">m_tOwningThread</a>.
<p>
Referenced by <a class="el" href="CEvent_8cpp-source.html#l00479">CEvent::Disable</a>().    </td>
  </tr>
</table>
<a name="a9" doxytag="CThreadRecursiveMutex::isLocked"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int CThreadRecursiveMutex::isLocked </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Operation Type: Override.
<p>
Purpose:
<p>
Returns non zero if someone, anyone (even self()) owns the mutex. Note that the mutex is considered owned if the lock level is  nonzero. This should even be faster than the base class  implementation. 
<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00488">488</a> of file <a class="el" href="CThreadRecursiveMutex_8cpp-source.html">CThreadRecursiveMutex.cpp</a>.
<p>
References <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00321">m_MonitorMutex</a>, and <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00320">m_nLockLevel</a>.    </td>
  </tr>
</table>
<a name="a6" doxytag="CThreadRecursiveMutex::Lock"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int CThreadRecursiveMutex::Lock </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Operation Type: Override.
<p>
Purpose:
<p>
Locks the mutex. Returns zero on success, otherwise, errno has the reason for the failure. Note that if we own the mutex the lock level is incremented, otherwise, this function may block. 
<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00341">341</a> of file <a class="el" href="CThreadRecursiveMutex_8cpp-source.html">CThreadRecursiveMutex.cpp</a>.
<p>
References <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00321">m_MonitorMutex</a>, <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00318">m_Mutex</a>, <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00320">m_nLockLevel</a>, and <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00319">m_tOwningThread</a>.
<p>
Referenced by <a class="el" href="CBufferEvent_8cpp-source.html#l00415">CBufferEvent&lt; T &gt;::AddLink</a>(), <a class="el" href="CSocket_8cpp-source.html#l01503">CSocket::AddressToHostString</a>(), <a class="el" href="CSocket_8cpp-source.html#l00443">CSocket::Connect</a>(), <a class="el" href="CBufferEvent_8cpp-source.html#l00451">CBufferEvent&lt; T &gt;::DeleteLink</a>(), <a class="el" href="CDAQTCLProcessor_8cpp-source.html#l00374">CDAQTCLProcessor::DeleteRelay</a>(), <a class="el" href="CEvent_8cpp-source.html#l00479">CEvent::Disable</a>(), <a class="el" href="CEvent_8cpp-source.html#l00449">CEvent::Enable</a>(), <a class="el" href="CDAQTCLProcessor_8cpp-source.html#l00351">CDAQTCLProcessor::EvalRelay</a>(), <a class="el" href="CBufferEvent_8h-source.html#l00400">CBufferEvent&lt; U &gt;::getPendingAddQueue</a>(), <a class="el" href="CBufferEvent_8h-source.html#l00406">CBufferEvent&lt; U &gt;::getPendingDeleteQueue</a>(), <a class="el" href="CTCPConnectionLost_8cpp-source.html#l00397">CTCPConnectionLost::Host</a>(), <a class="el" href="CEvent_8cpp-source.html#l00565">CEvent::OnEvent</a>(), <a class="el" href="CSocket_8cpp-source.html#l01557">CSocket::OpenSocket</a>(), <a class="el" href="CXtEventLoop_8cpp-source.html#l00420">CXtEventLoop::operator()</a>(), <a class="el" href="CTCPConnectionLost_8cpp-source.html#l00437">CTCPConnectionLost::Port</a>(), <a class="el" href="CBufferEvent_8cpp-source.html#l00515">CBufferEvent&lt; T &gt;::ProcessAddQueue</a>(), <a class="el" href="CBufferEvent_8cpp-source.html#l00535">CBufferEvent&lt; T &gt;::ProcessDelQueue</a>(), <a class="el" href="CServerConnectionEvent_8cpp-source.html#l00535">CServerConnectionEvent::Protocol</a>(), and <a class="el" href="CSocket_8cpp-source.html#l01466">CSocket::Service</a>().    </td>
  </tr>
</table>
<a name="c1" doxytag="CThreadRecursiveMutex::operator=="></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int CThreadRecursiveMutex::operator== </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const CThreadRecursiveMutex &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>aCThreadRecursiveMutex</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const<code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Assignment is illegal and hence private and not implemented.     </td>
  </tr>
</table>
<a name="b2" doxytag="CThreadRecursiveMutex::setLockLevel"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void CThreadRecursiveMutex::setLockLevel </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const unsigned&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>am_nLockLevel</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>am_nLockLevel</em>&nbsp;</td><td>
Set m_nLockLevel </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00371">371</a> of file <a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a>.
<p>
References <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00320">m_nLockLevel</a>.    </td>
  </tr>
</table>
<a name="b3" doxytag="CThreadRecursiveMutex::setMonitorMutex"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void CThreadRecursiveMutex::setMonitorMutex </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const DAQThreadMutex&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>am_MonitorMutex</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>am_MonitorMutex</em>&nbsp;</td><td>
Set m_MonitorMutex </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00374">374</a> of file <a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a>.
<p>
References <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00321">m_MonitorMutex</a>.    </td>
  </tr>
</table>
<a name="b0" doxytag="CThreadRecursiveMutex::setMutex"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void CThreadRecursiveMutex::setMutex </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const DAQThreadMutex&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>am_Mutex</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>am_Mutex</em>&nbsp;</td><td>
Set m_Mutex </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00365">365</a> of file <a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a>.
<p>
References <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00318">m_Mutex</a>.    </td>
  </tr>
</table>
<a name="b1" doxytag="CThreadRecursiveMutex::setOwningThread"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void CThreadRecursiveMutex::setOwningThread </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const daqthread_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>am_tOwningThread</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>am_tOwningThread</em>&nbsp;</td><td>
Set m_tOwningThread </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00368">368</a> of file <a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a>.
<p>
References <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00319">m_tOwningThread</a>.    </td>
  </tr>
</table>
<a name="a8" doxytag="CThreadRecursiveMutex::TryLock"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int CThreadRecursiveMutex::TryLock </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Operation Type: Override
<p>
Purpose:
<p>
Tries to lock the mutex.  If the mutex is owned by the running thread the lock succeeds and the lock level is incremented. If the lock level is zero, then trylock is done on the base class and the result is returned. On success, the lock level is incremented. Returns 0 on success, otherwise, errno has reason for failure, if the lock was already held, errno == EAGAIN. 
<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00450">450</a> of file <a class="el" href="CThreadRecursiveMutex_8cpp-source.html">CThreadRecursiveMutex.cpp</a>.
<p>
References <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00321">m_MonitorMutex</a>, <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00318">m_Mutex</a>, <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00320">m_nLockLevel</a>, and <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00319">m_tOwningThread</a>.    </td>
  </tr>
</table>
<a name="a7" doxytag="CThreadRecursiveMutex::UnLock"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int CThreadRecursiveMutex::UnLock </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Operation Type: Override
<p>
Purpose:
<p>
Unlocks a locked mutex. If the mutex is already locked by us, the lock level is decremented. The mutex is not actually released until the lock level goes to zero. If we don't own the mutex, and error results. Returns zero on success, otherwise, errno has the reason for the failure. 
<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00396">396</a> of file <a class="el" href="CThreadRecursiveMutex_8cpp-source.html">CThreadRecursiveMutex.cpp</a>.
<p>
References <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00321">m_MonitorMutex</a>, <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00318">m_Mutex</a>, <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00320">m_nLockLevel</a>, and <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00319">m_tOwningThread</a>.
<p>
Referenced by <a class="el" href="CBufferEvent_8cpp-source.html#l00415">CBufferEvent&lt; T &gt;::AddLink</a>(), <a class="el" href="CSocket_8cpp-source.html#l01503">CSocket::AddressToHostString</a>(), <a class="el" href="CSocket_8cpp-source.html#l00443">CSocket::Connect</a>(), <a class="el" href="CBufferEvent_8cpp-source.html#l00451">CBufferEvent&lt; T &gt;::DeleteLink</a>(), <a class="el" href="CDAQTCLProcessor_8cpp-source.html#l00374">CDAQTCLProcessor::DeleteRelay</a>(), <a class="el" href="CEvent_8cpp-source.html#l00449">CEvent::Enable</a>(), <a class="el" href="CDAQTCLProcessor_8cpp-source.html#l00351">CDAQTCLProcessor::EvalRelay</a>(), <a class="el" href="CBufferEvent_8h-source.html#l00400">CBufferEvent&lt; U &gt;::getPendingAddQueue</a>(), <a class="el" href="CBufferEvent_8h-source.html#l00406">CBufferEvent&lt; U &gt;::getPendingDeleteQueue</a>(), <a class="el" href="CTCPConnectionLost_8cpp-source.html#l00397">CTCPConnectionLost::Host</a>(), <a class="el" href="CEvent_8cpp-source.html#l00565">CEvent::OnEvent</a>(), <a class="el" href="CSocket_8cpp-source.html#l01557">CSocket::OpenSocket</a>(), <a class="el" href="CXtEventLoop_8cpp-source.html#l00420">CXtEventLoop::operator()</a>(), <a class="el" href="CTCPConnectionLost_8cpp-source.html#l00437">CTCPConnectionLost::Port</a>(), <a class="el" href="CBufferEvent_8cpp-source.html#l00515">CBufferEvent&lt; T &gt;::ProcessAddQueue</a>(), <a class="el" href="CBufferEvent_8cpp-source.html#l00535">CBufferEvent&lt; T &gt;::ProcessDelQueue</a>(), <a class="el" href="CServerConnectionEvent_8cpp-source.html#l00535">CServerConnectionEvent::Protocol</a>(), and <a class="el" href="CSocket_8cpp-source.html#l01466">CSocket::Service</a>().    </td>
  </tr>
</table>
<a name="a10" doxytag="CThreadRecursiveMutex::UnLockCompletely"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void CThreadRecursiveMutex::UnLockCompletely </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Operation Type:
<p>
Purpose:
<p>
Releases all lock levels. If we don't  already own the mutex, this call is a no-op, otherwise, the m_nLockLevel variable is set to zero and the underlying semaphore is unlocked. 
<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00511">511</a> of file <a class="el" href="CThreadRecursiveMutex_8cpp-source.html">CThreadRecursiveMutex.cpp</a>.
<p>
References <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00321">m_MonitorMutex</a>, <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00318">m_Mutex</a>, <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00320">m_nLockLevel</a>, and <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00319">m_tOwningThread</a>.
<p>
Referenced by <a class="el" href="CEvent_8cpp-source.html#l00479">CEvent::Disable</a>(), and <a class="el" href="CFileEvent_8cpp-source.html#l00706">CFileEvent::Exit</a>().    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="o3" doxytag="CThreadRecursiveMutex::m_MonitorMutex"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DAQThreadMutex CThreadRecursiveMutex::m_MonitorMutex<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Atomicity Mutex.
<p>

<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00321">321</a> of file <a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a>.
<p>
Referenced by <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00356">getMonitorMutex</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00488">isLocked</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00341">Lock</a>(), <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00374">setMonitorMutex</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00450">TryLock</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00396">UnLock</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00511">UnLockCompletely</a>(), and <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00315">~CThreadRecursiveMutex</a>().    </td>
  </tr>
</table>
<a name="o0" doxytag="CThreadRecursiveMutex::m_Mutex"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DAQThreadMutex CThreadRecursiveMutex::m_Mutex<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Mutex locked.
<p>

<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00318">318</a> of file <a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a>.
<p>
Referenced by <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00344">getMutex</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00341">Lock</a>(), <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00365">setMutex</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00450">TryLock</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00396">UnLock</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00511">UnLockCompletely</a>(), and <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00315">~CThreadRecursiveMutex</a>().    </td>
  </tr>
</table>
<a name="o2" doxytag="CThreadRecursiveMutex::m_nLockLevel"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned CThreadRecursiveMutex::m_nLockLevel<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Locking depth for owning thread.
<p>

<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00320">320</a> of file <a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a>.
<p>
Referenced by <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00352">getLockLevel</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00488">isLocked</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00341">Lock</a>(), <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00371">setLockLevel</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00450">TryLock</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00396">UnLock</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00511">UnLockCompletely</a>(), and <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00315">~CThreadRecursiveMutex</a>().    </td>
  </tr>
</table>
<a name="o1" doxytag="CThreadRecursiveMutex::m_tOwningThread"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> daqthread_t CThreadRecursiveMutex::m_tOwningThread<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Id of owning thread.
<p>

<p>
Definition at line <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00319">319</a> of file <a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a>.
<p>
Referenced by <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00348">getOwningThread</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00341">Lock</a>(), <a class="el" href="CThreadRecursiveMutex_8h-source.html#l00368">setOwningThread</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00450">TryLock</a>(), <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00396">UnLock</a>(), and <a class="el" href="CThreadRecursiveMutex_8cpp-source.html#l00511">UnLockCompletely</a>().    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="CThreadRecursiveMutex_8h-source.html">CThreadRecursiveMutex.h</a><li><a class="el" href="CThreadRecursiveMutex_8cpp-source.html">CThreadRecursiveMutex.cpp</a></ul>
<hr><address align="right"><small>Generated on Wed Feb 5 13:40:27 2003 for Spectrodaq External Event Framework by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.15 </small></address>
</body>
</html>

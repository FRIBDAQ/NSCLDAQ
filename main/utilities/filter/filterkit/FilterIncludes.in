KITDIR   = @prefix@/filterkit
LIBDIR   = @prefix@/lib
INCLUDES = @prefix@/filterkit/include
MAININCLUDES = @prefix@/include
TCL_FLAGS= @TCL_FLAGS@
TCL_LDFLAGS=@TCL_LDFLAGS@


# Compilation flags:

CXXFLAGS =-std=c++11 -g -fPIC -I. -I$(MAININCLUDES) -I$(INCLUDES)   $(TCL_FLAGS) @THREADCXX_FLAGS@ @LIBTCLPLUS_CFLAGS@
CCFLAGS=$(CXXFLAGS)

LDFLAGS = $(LIBDIR)/libdaqshm.so	\
        $(LIBDIR)/libdataformatv11.so	\
        $(LIBDIR)/libdataformatv12.so	\
        $(LIBDIR)/libbuffer.so \
        $(LIBDIR)/libfilterv11.so \
        $(LIBDIR)/libfilterv12.so \
	$(LIBDIR)/liburl.so	\
	$(LIBDIR)/libfilter.so	\
	@LIBEXCEPTION_LDFLAGS@ \
	$(TCL_LDFLAGS) @THREADLD_FLAGS@ \
	-Wl,-rpath=$(LIBDIR)

# Compilation rules:

#  C++ compilations.  note that all the build rules should be identical
#

.cpp.o:
	$(CXX) -g -c  $(CXXFLAGS) $(USERCXXFLAGS) $<

.cxx.o:
	$(CXX) -g -c  $(CXXFLAGS) $(USERCXXFLAGS) $<

.cc.o:
	$(CXX) -g -c  $(CXXFLAGS) $(USERCXXFLAGS) $<

#
#  C compilation(s) if more are aded the build rules should be identical.

.c.o:
	$(CC)  -g -c  $(CCFLAGS) $(USERCCFLAGS) $<


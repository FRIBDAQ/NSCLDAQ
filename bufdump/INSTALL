Installation documentation for bufdump
======================================
1. Introduction
2. Building stand-alone-executables for supported platforms.
3. Building a Tcl source based installation
4. Other Makefile Targets.

1. Introduction
===============
bufdump is a pure Tcl/Tk utility that can dump buffers from event files or the
online system.  The software includes extensive documentation including

- Online help that can be accessed from the running program.
- A pdf manual
- A man page


In addition, stand alon executables can be built for both Windows and
Linux-x86.  As a result of this, there are many ways that you can run
the Makefile for this software.

2. Building stand-alone-executables for supported platforms.
===========================================================

Tcl/Tk Starkit/StarPack  technologies allow the production
of an executable that includes both the run-time support for
bufdump (e.g. Tcl/Tk, and requried packages), as well as the application
itself in such a way that running that executable runs the aplication.
If you need to distribute bufdump to many system, some of which may not
have the required execution environment, you should consider building
starpacks.

To build starpackes you must run on a linux-x86 system and:

./configure
make starpacks


This should result in two executable files:

bufdump      - A linux-x86 executable for bufdump.
bufdump.exe  - A windows executable for bufdump.

These executables are completely standalone and can be simply copied to the
targe system and run with no further installation procedure.

As the full runtime is present in the starpack executables, it is not necessary
to install Tcl/Tk.

I want to acknowledge Steve Landers of Digital Smarties for his work on 
starkits and starpacks.  I also want to thank equi4.com for redistributing this
software as well as dq software for distributing the augmented runtimes that
are bundled into these starpacks.

3. Building a Tcl source based installation
===========================================

A Tcl source based installation consists of a directory tree that
contains the bufdump script and the packages that make up this program.
While this type of installation is not stand-alone, you can probably make
it work on just about any target system not supported by starpack distributions
that supports the following pre-requisite packages:

Tcl, Tk
BWidget
IWidgets
snit
dns
docbook2dvi      (for printable manuals)
docbook2html     (for web browsable manuals)
dvipdf           (to produce a printable manual from the output of docbook2dvi).
xmlto            (to produce a man page for the program).

and their prerequisites (e.g. Iwidgets requires itk).

Note that dns and snit are both part of tcllib which, on many systems is 
distributed as a separate package.


To build a Tcl source based installation, choose a target.
For this example, we'll asssume you chose /usr/opt/daqutils/bufdump:

./configure --prefix=/usr/opt/daqutils/bufdump
make install


This produces the following directory subtree under the target:


bin     - contains bufdump, run bufdump to run the program.
help    - contains bufdump's online help.
doc     - contains the printable manual for bufdump.
man     - contains the manpage for bufdump (man/man1/bufdump.1).
htmldocs- contains html documentation for bufdump.
images  - contains some images required by the html documentation of bufdump.
etc     - contains data files (packet definition file e.g.) for bufdump.


4. Other Makefile Targets
==========================
The following are notable makefile targets:

docs     - Creates:
           ./manual.pdf    - The manual
           ./htmldocs      - Directory containing the html version of the manual
           ./bufdumpl.1    - A unix manpage for the application.

clean    - Removes all files previous runs of Make created.
starpacks- Creates starpacks for supported platforms.  Note that
           ./tclkit - tclkit for linux-x86 used to build the starpakcs.
           ./kit-linux-x86-MTall.bin - dq software's extended runtime for linux-x86
	   ./kit-win32-MTall.exe     - dq software's extended runtime for windows.
           bufdump.vfs               - The bufdump directory tree that is wrapped
                                       into the starpacks (after Make).
sdx-toolchain - Used by the starpacks target to fetch the starkit toolchain
                from equi4.com
install   - Install a source based distribtution of the software.
dist      - Recreate the distribution tarball.



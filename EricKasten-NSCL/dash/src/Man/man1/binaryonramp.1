.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.35.
.TH BINARYONRAMP "1" "February 2006" "binaryonramp 1.82" "User Commands"
.SH NAME
binaryonramp \- manual page for binaryonramp 1.82
.SH SYNOPSIS
.B binaryonramp
\fI--packet=PACKET \fR[\fIOPTION\fR]... \fIUSERBINARY\fR
.SH DESCRIPTION
Enable the injection of binary data into the data stream.  The
binaryonramp program enables binary output from USERBINARY
(executable programs) to be easily injected into the data
stream.  The output of USERBINARY is automagically packaged into
well structured records prior to being injected into the data stream.
The essential characteristics of binaryonramp are as follows:
.PP
1.  Records appearing on binaryonramp's stdin are transfered to
.IP
stdout.
.PP
2.  Once a BEGINRUN record has been read from stdin, the BEGINRUN
.IP
record is written to stdout and USERBINARY executed.
USERBINARY's stdout is connected to a pipe, enabling binaryonramp
to read data produced by USERBINARY.  USERBINARY's stderr is
also connected to a pipe, enabling binaryonramp to read error
messages produced by USERBINARY and relay them to binaryonramp's
stderr.
.PP
3.  Data produced by USERBINARY is expected to produce output
.IP
that includes a leading byte count, indicating the number of data
bytes produced, followed by the data.  The leading byte count
should be a 4 byte integer in host byte order.
.PP
4.  Data produced by USERBINARY is automagically packaged into
.IP
records and written to binaryonramp's stdout.
.PP
5.  If USERBINARY exits and \fB\-\-restart\fR is not specified, binaryonramp
.IP
continues reading records from stdin and writing them to stdout.
.PP
6.  If binaryonramp's stdin is closed, binaryonramp kills USERBINARY
.IP
(if necessary) and then exits.
.SH OPTIONS
.TP
\fB\-\-version\fR
Output version information and exit
.TP
\fB\-\-help\fR
Display this help and exit
.TP
\fB\-\-debug\fR=\fISECONDS\fR
Output a debugging command and wait SECONDS
before beginning execution of main loop
.TP
\fB\-\-restart\fR[=\fIRETRIES\fR] (default: infinite restarts)
Restart USERBINARY each time it exits.  If RETRIES
is specified, only restart the program RETRIES
times.
.TP
\fB\-\-packet\fR=\fI[PACKET\fR|typed]
Mandatory.  PACKET can be either a single positive
integer or a symbolic name (e.g., Physics).
Records produced from the output of USERBINARY will
be assigned a type of PACKET.  If the argument is
the string "typed," then the output of USERBINARY is
assumed to have an host\-byte\-order integer field,
indicating the record type, following the length.
.SH EXAMPLES
.IP
Readout \fB\-\-run\fR=\fI45\fR | binaryonramp \fB\-\-packet\fR=\fI104\fR mybinary |
.IP
segmenter /evt/data/output
.IP
Inject output from mybinary into the data stream.
Records produced from data from mybinary will have a type
of 104.  If mybinary terminates, it will not be restarted.
.IP
Readout \fB\-\-run\fR=\fI46\fR | binaryonramp \fB\-\-packet\fR=\fI103\fR \fB\-\-restart\fR mybinary |
.IP
segmenter /evt/data/output
.IP
Inject output from mybinary into the data stream.
Records produced from data from mybinary will have a type
of 103.  When mybinary terminates, it is restarted.
.SH AUTHOR
Written by E. Kasten.
.SH COPYRIGHT
Copyright \(co 2005 by the Board of Trustees of Michigan State University.
You may use this software under the terms of the GNU public license
(GPL).  The terms of this license are described at:
http://www.gnu.org/licenses/gpl.txt

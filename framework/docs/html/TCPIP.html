<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TCP/IP client server programming</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.15 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><a name="TCPIP"><h2>TCP/IP client server programming</h2></a>

<p>
Modern TCP/IP network aware programs generally divide into two roles; clients and servers.
<p>
Servers therefore have responsibilities:<ol>
<li>Listen for connection requests from new clients on a specified "service port."<li>Respond to work requests by existing, connected clients.</ol>
Client responsibilities are much simpler:<ol>
<li>Form a connection with a server<li>Ask the server to do work, receive and analyze the server response.</ol>
In the spectrodaq framework, clients and servers are represented by the <a class="el" href="classCSocket.html">CSocket</a> class. Sockets are used differently depending on whether or not the program is acting as a client or a server.
<p>
Server Sockets are wrapped in objects derived from the <a class="el" href="classCServerConnectionEvent.html">CServerConnectionEvent</a>  class. This class allows the programmer to set up a thread to listen for  connection events on a socket which has been bound to listen for connection requests on a specified service or port. When connections arrive, the event calls <a class="el" href="classCServerConnectionEvent.html#a12">CServerConnectionEvent::OnConnection</a> passing it a <a class="el" href="classCSocket.html">CSocket</a> which represents the connection to the client.
<p>
Application specific code can do whatever it wants at this time.  Normally, if the connection is valid, the application code will use the socket object to create a <a class="el" href="classCServerInstance.html">CServerInstance</a> derived object. <a class="el" href="classCServerInstance.html">CServerInstance</a>  encapsulates a request response protocol in which the server passively waits for client requests, reacts and replies to them.
<p>
In <a class="el" href="classCServerInstance.html">CServerInstance</a> derived objects, <a class="el" href="classCServerInstance.html#a9">CServerInstance::OnRequest</a> is called whenever the client has a new request for the server. The server can read the request from the socket passed to OnRequest, process it and return information to the client by writing it along the socket.
<p>
<hr><address align="right"><small>Generated on Wed Feb 5 13:40:38 2003 for Spectrodaq External Event Framework by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.15 </small></address>
</body>
</html>

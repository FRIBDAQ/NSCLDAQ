.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.35.
.TH SEGMENTER "1" "February 2006" "segmenter 1.82" "User Commands"
.SH NAME
segmenter \- manual page for segmenter 1.82
.SH SYNOPSIS
.B segmenter
[\fIOPTION\fR]... \fIDIRECTORY\fR
.SH DESCRIPTION
Segment a DAQ pipeline record stream into segments for storage on
disk.  The program does the following:
.PP
1. Monitors stdin for records.
.PP
2. Upon receipt of a BEGINRUN record, segmenter extracts the run
number and creates a file named run{run_number}_0000.evt.
.PP
3. The BEGINRUN record is then written to this file.
.PP
4. Upon receipt of an ENDRUN record, segmenter writes the ENDRUN
record to file, closes the file and exits.
.PP
5. In response to a broken pipe, segmenter creates a BADEND record,
signifying that the run has ended, writes this record to file and exits.
.PP
6. All other records are written to file without interpretation.
.PP
7. If any write would create a file larger than the current segsize,
segmenter closes the currently open file, increment the segment number
and create a new file named run{run_number}_{sequence}.evt and
continues writing records.
.SH OPTIONS
.TP
\fB\-\-version\fR
Output version information and exit
.TP
\fB\-\-help\fR
Display this help and exit
.TP
\fB\-\-debug\fR=\fISECONDS\fR
Output a debugging command and wait SECONDS
before beginning execution of main loop
.TP
\fB\-\-segsize\fR=\fIMEGABYTES\fR Specify run file segment size.
Default is 2GB.
.SH EXAMPLES
.IP
Readout \fB\-\-run\fR=\fI56\fR | segmenter /evt/data/output
.IP
Use Readout to produce records for run number 58 and pipe
them through segmenter.  Segmenter will write run file
segments in directory /evt/data/output.
.IP
Readout \fB\-\-run\fR=\fI123\fR | segmenter \fB\-\-segsize\fR=\fI5\fR /evt/data/output
.IP
Use Readout to produce records for run number 128 and pipe
them through segmenter.  Segmenter will write 5MB run file
segments in directory /evt/data/output.
.SH AUTHOR
Written by E. Kasten.
.SH COPYRIGHT
Copyright \(co 2005 by the Board of Trustees of Michigan State University.
You may use this software under the terms of the GNU public license
(GPL).  The terms of this license are described at:
http://www.gnu.org/licenses/gpl.txt
